<meta charset="utf-8"><h1>SPA PHP SDK 主要服务类 Spa\Spa</h1>

Spa\Spa 类提供了主要功能的接口入口

<hr>

<h1>Spa\Spa</h1>

<h2>快速使用：</h2>

<h3>初始化实例</h3>

<pre><codeblock>
    $conf = array(
        'uid'               => '{uid}',
        'appid'             => '{appid}',
        'appkey'            => '{appkey}',
        'http_client_type'  => 'curl',
        'version'           => 'v3'
    );

    $spa = new Spa\Spa($conf);
</codeblock></pre>

<h3>发送 get 请求</h3>

<pre><codeblock>
    $response = $spa->get('/advertiser/read?advertiser_id=123');
</codeblock></pre>

<h3>发送 post 请求</h3>

<pre><codeblock>
    $response = $spa->post('/advertiser/signup');
</codeblock></pre>

<h3>发送 request 请求</h3>

<pre><codeblock>
    $response = $spa->sendRequest('post', '/advertiser/signup');
</codeblock></pre>

<h2>详细介绍：</h2>

<h3>初始化配置 $conf</h3>
<p><code>uid</code>: 授权客户的id（即：若是代理商授权，则此处为代理商账户id，若为广告主授权则为广告主账户id），通常与 <code>appid</code> 一致，在广点通开通账户后获得；</p><p><code>appid</code>: API授权接入方唯一身份标识，目前为申请API接入的直客或代理商id；</p><p><code>appkey</code>: 开通API授权后获得的私钥，在开通授权邮件中会与app_id一块提供；</p><p><code>http_client_type</code>: 选填项，目前只支持 <code>curl</code>，（选填）</p><p><code>version</code>: api 版本，默认 <code>v3</code>，目前只支持 <code>v3</code>，（选填）</p>

<h2>Spa 类提供的方法</h2>

<h3>getApp()</h3>

<pre><codeblock>
    public Spa\App getApp()
</codeblock></pre>

返回在本次请求中 <code>Spa\App</code> 的实例

<h3>getClient()</h3>

<pre><codeblock>
    public Spa\Client getClient()
</codeblock></pre>

返回在本次请求中 <code>Spa\Client</code> 的实例

<h3>get()</h3>

<pre><codeblock>
    public Spa\Response get(
        string $url, // 请求的 url，（必填）
        array|array() $headers = array(), // 请求要传的请求头信息，（选填）
        AccessToken|string|null $accessToken = null // access token，不填的话自动从 $conf 中的配置信息生成，（选填）
    )
</codeblock></pre>

发起一个 <code>get</code> 请求，返回值为 <code>Spa\Response</code> 对象

<h3>post()</h3>

<pre><codeblock>
    public Spa\Response post(
        string $url, // 请求的 url，（必填）
        array|array() $params = array(), // 请求要传的请求头信息，（选填）
        array|array() $headers = array(), // post 请求参数信息，（选填）
        AccessToken|string|null $accessToken = null // access token，不填的话自动从 $conf 中的配置信息生成，（选填）
    )
</codeblock></pre>

发起一个 <code>post</code> 请求，返回值为 <code>Spa\Response</code> 对象

<h3>sendRequest()</h3>

<pre><codeblock>
    public Spa\Response sendRequest(
        string $method, // 请求方式 GET/POST
        string $url, // 请求的 url，（必填）
        array|array() $params = array(), // 请求参数信息，（选填）
        array|array() $headers = array(), // 请求要传的请求头信息，（选填）
        AccessToken|string|null $accessToken = null // access token，不填的话自动从 $conf 中的配置信息生成，（选填）
    )
</codeblock></pre>

发送 <code>request</code> 请求，自己指定请求方式，只支持 <code>GET / POST</code>，返回值为 <code>Spa\Response</code> 对象

<h3>request()</h3>

<pre><codeblock>
    public Spa\Request request(
        string $method, // 请求方式 GET/POST
        string $url, // 请求的 url，（必填）
        array|array() $params = array(), // 请求参数信息，（选填）
        array|array() $headers = array(), // 请求要传的请求头信息，（选填）
        AccessToken|string|null $accessToken = null // access token，不填的话自动从 $conf 中的配置信息生成，（选填）
    )
</codeblock></pre>

收集处理 <code>request</code> 请求信息，返回值为 <code>Spa\Request</code> 对象

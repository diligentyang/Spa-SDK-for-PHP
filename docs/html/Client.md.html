<meta charset="utf-8"><h1>SPA PHP SDK 请求端实例类 Spa\Client</h1>

Spa\Client 类用于发起请求

<hr>

<h1>Spa\Client</h1>

<h2>实例介绍</h2>

<h3>Spa\Client</h3>

<pre><codeblock>
    new Spa\Client(
        BaseClientInterface $httpClient = null, 
        $version = null
    )
</codeblock></pre>
<p><em></em>$httpClient :<em></em> <code>Spa\HttpClients\BaseClientInterface</code> 的实例，用于发起请求</p><p><em></em>$version :<em></em> 请求的 api 版本，默认 v3，目前只支持 v3</p>

一般由 <code>Spa\Spa</code> 类初始化，可以直接通过 <code>Spa\Spa</code> 的 <code>getClient()</code> 方法获取实例

例：

<pre><codeblock>
    $conf = array(
        'uid'               => '{uid}',
        'appid'             => '{appid}',
        'appkey'            => '{appkey}',
        'http_client_type'  => 'curl',
        'version'           => 'v3'
    );

    $spa = new Spa\Spa($conf);

    $spaClient = $spa->getClient();
</codeblock></pre>

或是直接创建

<pre><codeblock>
    $spaClient = new Spa\Client({$httpClient}, {$version});
</codeblock></pre>

<h2>方法介绍</h2>

<h3>setHttpClient()</h3>

<pre><codeblock>
    public void setHttpClient(Spa\HttpClients\BaseClientInterface $httpClient)
</codeblock></pre>

设置 <code>$httpClient</code>，用于发起 http 请求

<h3>getHttpClient()</h3>

<pre><codeblock>
    public Spa\HttpClients\BaseClientInterface getHttpClient()
</codeblock></pre>

获取 <code>Spa\HttpClients\BaseClientInterface</code> 对象实例

<h3>sendRequest()</h3>

<pre><codeblock>
    public Spa\Response sendRequest(Spa\Request $request)
</codeblock></pre>

参数为 <code>Spa\Request</code> 的对象

发起一个请求，返回值为 <code>Spa\Response</code> 的对象

如果出错，则抛出 <code>SpaSDKException</code> 错误
